{
	"dimensions":[
		{
			"name": "products",
			"label": "Product",
			"levels": [
				{
					"name": "programs",
					"attributes": ["program_code", "program_name"]
				},
				{
					"name": "products",
					"attributes": ["code", "primaryname"]
				}
			]
		},
		{
			"name": "facilities",
			"label": "Facility",
			"attributes": ["id", "name"]
		}
	],
	
	"cubes":[
		{
			"name": "requisition_line_items",
			"dimensions": ["products", "facilities"],
			"measures": [
				{"name": "stockinhand", "label": "Stock In Hand"}
			],
			"aggregates": [
				{
					"name": "stockinhand_sum",
				    "label": "Total Stock in Hand",
				    "measure": "stockinhand",
				    "function": "sum"
				}
			],
			"mappings": {

			},
			"joins": [
				{"master": "program_products.programid", "detail": "programs.id"},
				{"master": "products.id", "detail": "program_products.productid"},
				{"master": "productcode", "detail": "products.code"},
				{"master": "requisitions.facilityid", "detail": "facilities.id"},
				{"master": "rnrid", "detail": "requisitions.id"}
			],
			"mappings": {
				"products.program_code": "programs.code",
				"products.program_name": "programs.name"
			},
			"info": {
				
			}
		}
	]
}